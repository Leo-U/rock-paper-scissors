<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    
    <script>
        // create function computerPlay that will randomly return 'Rock', 'Paper', or 'Scissors'.

       function computerPlay(){
        let number =  Math.floor(Math.random() * 3);
        if (number === 0) {
            return computerSelection = "Rock";
        } else if (number === 1) {
            return computerSelection = "Paper";
        } else {
            return computerSelection = "Scissors";
        }
       }


       /* write a function that plays a single round of RPS, having two parameters - playerSelection and computerSelection, and that returns a string declaring whether you win or lose. Make the function case insensitive so that users can input their answers in any case. */
       
       function playRound(playerSelection, computerSelection) {
           playerSelection = playerSelection.toUpperCase();
           computerSelection = computerSelection.toUpperCase();
           

        if (playerSelection === computerSelection) {
            console.log("Computer plays the same. Round tied!")
            let result = 0;
            return result;
        } else if (playerSelection === "ROCK" && computerSelection === "PAPER") {
            console.log("Computer plays Paper. You lost the round!");
            let result = -1;
            return result;
        } else if (playerSelection === "ROCK" && computerSelection === "SCISSORS") {
            console.log("Computer plays Scissors. You won the round!");
            let result = 1;
            return result;
        } else if (playerSelection === "PAPER" && computerSelection === "ROCK") {
            console.log("Computer plays Rock. You won the round!")
            let result = 1;
            return result;
        } else if (playerSelection === "PAPER" && computerSelection === "SCISSORS") {
            console.log("Computer plays Scissors. You lost the round!")
            let result = -1;
            return result;
        } else if (playerSelection === "SCISSORS" && computerSelection === "ROCK") {
            console.log("Computer plays Rock! You lost the round!")
            let result = -1;
            return result;
        } else if (playerSelection === "SCISSORS" && computerSelection === "PAPER") {
            console.log("Computer plays Paper. You won the round!")
            let result = 1;
            return result;
        } else {
            console.log("Invalid entry! You lost the round!")
            let result = -1;
            return result;
        }
       }

       //write a function called game(). Use the previous function inside of this one to play a 5 round game that keeps score and reports a winner or loser at the end.
       
       
       

       function game() {
        
        function round1() {
            computerPlay();
            let playerSelection = window.prompt("Play Rock Paper Scissors!");
            let score = playRound(playerSelection, computerSelection);
            return score;
        }
        
        let score = round1();
        console.log(score);

        function round2() {
            computerPlay();
            let playerSelection = window.prompt("Play Round 2/5!");
            let score = playRound(playerSelection, computerSelection);
            return score;
        }

        score = score + round2();
        console.log(score);
        
        function round3() {
            computerPlay();
            let playerSelection = window.prompt("Play Round 3/5!");
            let score = playRound(playerSelection, computerSelection);
            return score;    
        }
        
        score = score + round3();
        console.log(score);

        if (score === 3) {
            console.log("You won the first 3 rounds and won the game automatically.")
        } else if (score === -3) {
            console.log("You lost the first 3 rounds and lost the game automatically.")
        } else {

        function round4() {
            computerPlay();
            let playerSelection = window.prompt("Play Round 4/5!");
            let score = playRound(playerSelection, computerSelection);
            return score;    
        }
        
        score = score + round4();
        console.log(score);

        if (score >= 2) {
            console.log("Your score is 2 or higher on round 4. You win the game automatically.")
        } else if (score <= -2) {
            console.log("Your score is -2 or lower on round 4. You lost the game automatically.")
        } else {


        function round5() {
            computerPlay();
            let playerSelection = window.prompt("Play Round 5!");
            let score = playRound(playerSelection, computerSelection);
            return score;    
        }
        
        score = score + round5();
        
        if (score > 0) {
            console.log(score);
            console.log("You won the game!")
        } else if (score < 0) {
            console.log(score);
            console.log("You lost the game!")
        } else {
            console.log(score);
            console.log("You tied the game!")
        }
            }

            }
        
       }

       alert ("Type 'game()' in the browser console to play Rock Paper Scissors (close this alert first)!")
    </script>
</body>
</html>